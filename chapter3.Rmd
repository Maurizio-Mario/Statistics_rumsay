---
title: 'Rumsay, Chapter 3: Organizing quantitative data - Charts and graphs. [Ongoing
  - Lattice graphics]'
author: "Maurizio Murino"
date: "3 March 2016"
output: html_document
---
```{r setoption, cache=TRUE, warning=FALSE, message=FALSE, fig.width=12}
knitr::opts_chunk$set(cache=TRUE, warning=FALSE, message=FALSE, fig.width=12)
```

```{r, loadlattice}
library(lattice)
library(knitr)
library(xtable)
```

### Exercise 1 - 3/3/'16

You lose information from the data when yu create a histogram. What information is lost?

__Solution:__

You do not know the actual value of the data anymore, but only the group where they fall into.

### Exercise 2 - 3/3/'16

Make a histogram from this dataset of test scores: 72, 79, 81, 80, 63, 62, 89, 90, 50, 78, 87, 97, 55, 69, 97, 87, 88, 99, 76, 78, 5, 77, 88, 90, 81. Would a pie chart be appropriated for this data?

```{r 2.1 dataload}
e2 <- c(72, 79, 81, 80, 63, 62, 89, 90, 50, 78, 87, 97, 55, 69, 97, 87, 88, 99, 76, 78, 65, 77, 88, 90, 81)
```
```{r 2.2 histogram, lattice}
histogram(~e2,
          type = "count",
          xlab = "Test scores",
          main = "Test scores",
          breaks = seq(from = 50, to = 100, by = 5))
max(e2)
```

A pie chart is not appropriate. Pie charts are more useful with categorical data.

### Exercise 3 - 4/3/'16

Survey of 45 home-owners. Of them, 2 do not have a TV, 17 have 1, 22 have 2, 3 have 3, 1 has 4. Make a relative frequency histogram of this data and interpret the result.

```{r 3.1 dataload}
e3 <- data.frame(tv = rep(c(0, 1, 2, 3, 4), c(2, 17, 22, 3, 1)))
sum(e3$tv)
```

```{r 3.2 histogram}
histogram(~e3,
          xlab = "TVs",
          main = "Distribution of 73 Tvs between 45 owners",
          breaks = seq(from = 0, to = 4, by = 1))
```

### Exercise 4 - 6/3/'16

Think a loaded die. Make it roll several times. 

```{r 4.1 dataload}
e4 <- data.frame(n = rep(c(1, 2, 3, 4, 5, 6), c(10, 15, 5, 15, 5, 20)))
histogram(~n, data = e4,
          type = "count",
          main = "260 die rolls",
          xlab = "Die result",
          breaks = seq(from = 0, to = 6, by = 1))
```

__A. Make the relative frequency histogram of these results.__

```{r 4.2 plot1}
histogram(~n, data = e4,
          main = "Relative requencies - 260 die rolls",
          xlab = "Die result",
          breaks = seq(from = 0, to = 6, by = 1))
```

__B. You can make a relative frequency histogram from a frequency histogram; can you go to the other direction?__

Well, it is possible, but only by arbitrarily determining a sample size, that is unknow. Hence, it is no really useful.

### Exercise 5 - 6/3/'16

An ATM machine asks to choose an amount in 50$ increments from 100 from $500. Results from a recent sample of customer withdrawals are shown in the figures. Discuss shape, center and spread of the data. 

```{r 5.1 dataload}
e5 <- data.frame(withdraw = rep(c(100, 150, 200, 250, 300, 350, 400, 450, 500), c(14, 23, 23, 4, 2, 0, 2, 0, 2)))
barchart(e5,
          main = "Withdrawals",
          type = "count",
          horizontal = FALSE,
          xlab = "Withdrawals",
          breaks = seq(from = 100, to = 500, by = 50))
```

### Exercise 6 - 8/3/'16

Histogram of rods produced by a company. a Rod should be 100 inches long. Discuss the company accuracy by interpreting the shape, center and spread of the data. 

```{r 6.1 dataload and plot}
e6 <- data.frame(lngth = rep(seq(from = 99.2, to = 100.6, by = 0.1), c(1, 0, 2, 1, 2, 2, 8, 7, 10, 10, 6, 7, 2, 1, 4)))

histogram(~lngth, data = e6,
          breaks = seq(from = 99.2, to = 100.6, by = 0.1),
          type = "count",
          main = "Rods length",
          xlab = "Rods")
```

```{r 6.2 data summary xtable, results="asis"}
kable(summary(e6), format = "markdown", align = "c", row.names = TRUE)
```

The distribution is slightly skewed to the left, even if it this quite close to the center. Even so, the 50% of the production is between 99.85 and 100.2, being really accurate.  

### Exercise 7 - 11/3/'16

In the histogram the amount of money spent on fruits by 317 households in a year. Describe shape, center and spread. What do they tell us about how much families spend on fruits?

```{r 7.1}
e7 <- data.frame(expense = rep(seq(100, 800, 50), c(2, 0, 5, 9, 12, 27, 60, 65, 70, 50, 32, 18, 7, 2, 3)))

histogram(~expense, data = e7,
          type = "count",
          breaks = seq(50, 800, 50),
          main = "Histogram of fruits",
          xlab = "Fruits",
          ylab = "Frequency")

kable(summary(e7), format = "markdown", align = "c", row.names = TRUE)
```

The histogram is symmetric and bell shaped, with peak arounf 500. Range is from 100 to 800, quite large, with due probably to vary dietary habits, availability and prices of vegatables. Most of the house hold spend between 200 and 700 per year.

### Exercise 8 - 11/3/'16

Consider the percentage return for a group of stocks in Portfolio A over a year period, as shown in figure. 

```{r 8 dataload plot}
e8 <- data.frame(percen = rep(seq(-40, 70, 10), c(2, 13, 4, 3, 15, 18, 10, 12, 10, 3, 3, 3)))
histogram(~percen, data = e8,
          breaks = seq(-50, 70, 10),
          xlab = "Percent returnon stocks in group A",
          ylab = "Percentage of stocks")
```

__A. Some of the value on the X-axis are negative numbers. What does this mean?__

The stock had losses in few moments of the year.

__B. On any histogram in general, when (if ever) can the X-and/or Y-axis contain negative values?__

While the X-axis can report if a negative value occurred, the Y-axis report how many times (absolute or percentage) a value appears in a distribution. Hence, it cannot be negative.